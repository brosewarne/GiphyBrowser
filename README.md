# Giphy Browser - Montu Code Challenge - Ben Rosewarne

#### <a href="docs/Montu-FE-V2.pdf" class="image fit">Code Challenge Details</a>

## Instructions

1. Have NodeJs 20.17 installed
2. Check out the 'GiphyBrowser' repo
3. run `>>> cd GiphyBrowser`
4. Run `>>> npm i`
5. Run `>>> npm run dev`
6. Access the App at `http://localhost:5173`

For unit tests

1. Run `>>> npm run test`

## Overview

For the challenge, I implemented a simple desktop based Giphy browser that includes

- An app header with basic navigation controls for showing the various pages, along with a search bar for searching Giphy
- Showing the currently trending gifs with basic pagination
- The ability to search from a search page or the app header and see the results with basic pagination
- The ability to save gif ids to localStorage, these are displayed on the Saved page. Gifs can be saved / unsaved from any of the pages

## Implementation considerations

### Tech

Everything was build using a React + TS (SWC) template generated by Vite

I tried to keep the 3rd party dependencies to a minimum, mainly just using MUI and react-router.

I tried to stick to the basics by using fetch in my own `useNetwork` hook. I'm sure there are better 3rd party alternatives (ie Axios).

I used prettier and eslint for the dev environment along with Vitest and React Testing Library for unit tests.

### Non Functional Requirements

To keep things simple and on time I didn't consider the following:

- Accessibility
- Abstracting copy out of the code
- Mobile / responsiveness

I made the following compromises:

- Ignore styled MUI components, just use `sx` where custom CSS values need to be provided.
- The UI design would be very basic, but functional

Non-Negotiables:

- As much unit testing as possible
- Ensure at least the minimum functionality is covered

### Approach

I started by spending a bit more time getting up to speed with React, especially testing and setting up the test environment with Vitest (which I hadn't used before) before really getting into writing code for the challenge. I knew I had to get back into the React way of thinking (ie instead of Angular which I've mainly been using for the last few years) before making a serious start.

I mapped out a (very) basic UI design on paper based on the minimum requirements - show trending and show search. During this I mapped out a potential component structure based on what could be re-used / made generic and what API calls, routes and hooks I would need.

I was trying to keep the components as light weight as I could and having as much of the 'business logic' abstracted away in the hooks to make testing easier and to try to keep everything more structured.

I decided on using context for the app state, in the end I probably could have got ten away with less context use (eg the TrendingItems currently doesn't really need to be on context). I also went with setting context from the hooks instead of returning directly to the components (for data that could have been returned but was also set on context) to try and keep a single source of truth for that data.

After adding some basic routing and APP boilerplate I started on a bare bone prototype of the trending page, adding the hooks for the API calls, checking I could get the data and just display the titles etc. Once this was working I fleshed out the UI with MUI.

The start page was much the same, I started with it as a totally separate page, added the hook for searching and then fleshed out the UI with MUI once the data flow was working.

Next I worked on the App Header and basic navigation and added a searchBar to the header to test out the context functionality for the search page.

After this I had time to add some of the extra features, the pagination was already mostly built and just needed a few things hooked up. The Saved page and associated functionality is very basic and I ran out of time to consider animating the save icon.

Along the way I was writing unit tests, but sometimes delaying them until I had more functionality implemented as I was still learning the React Testing Library and Vitest.

### Challenges

I probably spent a more time than I wanted to on the unit tests. This was a result of needing to get back into the React testing philosophy and also learning some of the finer details with Vitest and RTL - mainly around mocking and firing user events on the right target when using MUI components.

I'm not hugely experienced in writing custom hooks, I'm sure there are things I might have missed / misunderstood? The `useSavedGifs` hook probably isn't needed, but I ran out of time to do any extra refactoring.

Working with React in strict was a bit different at first, but it didn't cause any real issues.

### Known Issues / Things I ran out of time to fix / etc

- Sorting out the search hook to not run `useNetwork` when there is no search term. I added a bit of hack so that if there was no search term, then no URL was passed to `useNetwork` which would then run, but not run the `fetch`. I'm sure there's a better way of doing this, I ran out of time to look into it further. This also made the 'no search term' functionality difficult to test

- The Saved Page is very basic and requests all of the saved gifs when one is removed, when this could be handled with the state setup. The loading state is also shown unnecessarily when removing a saved gif. The hook for requesting the saved gifs is also probably unnecessary.

- I added tests for the purely presentational components even though this might not be strictly necessary. It was a bit of a learning exercise with trying to learn the current React testing philosophy.

- Given more time, I would have extracted the various mocks and wrappers used in the unit tests to a `testUtils` folder to avoid duplication.

- I might have missed some of the finer details using TypeScript with React.

- I would have extracted the `onSubmit` functionality for the `SearchPage` and `SearchBar` to not be in the jsx.

- I would have liked to add more / better code documentation.

- I probably should have done more to hide the API key.

### Feedback

I found this a really fun and engaging code challenge. The requirements are realistic and the extras were simple to add on due to the initial design / implementation.

## Screenshots

#### Trending Page

![TrendingPage](https://raw.githubusercontent.com/brosewarne/GiphyBrowser/master/screenshots/trending-page.png)

#### Search Page

![SearchPage](https://raw.githubusercontent.com/brosewarne/GiphyBrowser/master/screenshots/search-page.png)

#### Saved Page

![SavedPage](https://raw.githubusercontent.com/brosewarne/GiphyBrowser/master/screenshots/saved-page.png)
